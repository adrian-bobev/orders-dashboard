--progress is a global compose flag, better use `docker compose --progress xx build ...
time="2026-02-05T22:54:17+02:00" level=warning msg="The \"EMAIL_FROM\" variable is not set. Defaulting to a blank string."
time="2026-02-05T22:54:17+02:00" level=warning msg="The \"RESEND_API_KEY\" variable is not set. Defaulting to a blank string."
time="2026-02-05T22:54:17+02:00" level=warning msg="The \"WORKER_WAKE_TOKEN\" variable is not set. Defaulting to a blank string."
time="2026-02-05T22:54:17+02:00" level=warning msg="The \"WORKER_WAKE_TOKEN\" variable is not set. Defaulting to a blank string."
time="2026-02-05T22:54:17+02:00" level=warning msg="The \"EMAIL_FROM\" variable is not set. Defaulting to a blank string."
time="2026-02-05T22:54:17+02:00" level=warning msg="The \"RESEND_API_KEY\" variable is not set. Defaulting to a blank string."
Compose now can delegate build to bake for better performances
Just set COMPOSE_BAKE=true
#0 building with "desktop-linux" instance using docker driver

#1 [app internal] load build definition from Dockerfile
#1 transferring dockerfile: 1.55kB done
#1 DONE 0.0s

#2 [app internal] load metadata for docker.io/library/node:20-alpine
#2 DONE 1.9s

#3 [app internal] load .dockerignore
#3 transferring context: 523B done
#3 DONE 0.0s

#4 [app base 1/1] FROM docker.io/library/node:20-alpine@sha256:09e2b3d9726018aecf269bd35325f46bf75046a643a66d28360ec71132750ec8
#4 resolve docker.io/library/node:20-alpine@sha256:09e2b3d9726018aecf269bd35325f46bf75046a643a66d28360ec71132750ec8 done
#4 DONE 0.0s

#5 [app deps 1/3] WORKDIR /app
#5 CACHED

#6 [app internal] load build context
#6 transferring context: 26.17kB 0.1s done
#6 DONE 0.1s

#7 [app deps 2/3] COPY package.json package-lock.json* ./
#7 DONE 0.0s

#8 [app runner 2/8] RUN addgroup --system --gid 1001 nodejs
#8 DONE 0.1s

#9 [app runner 3/8] RUN adduser --system --uid 1001 nextjs
#9 DONE 0.1s

#10 [app deps 3/3] RUN npm ci
#10 0.557 npm warn EBADENGINE Unsupported engine {
#10 0.557 npm warn EBADENGINE   package: '@fal-ai/client@1.8.3',
#10 0.557 npm warn EBADENGINE   required: { node: '>=22.0.0' },
#10 0.557 npm warn EBADENGINE   current: { node: 'v20.20.0', npm: '10.8.2' }
#10 0.557 npm warn EBADENGINE }
#10 5.168 npm warn deprecated glob@11.1.0: Old versions of glob are not supported, and contain widely publicized security vulnerabilities, which have been fixed in the current version. Please update. Support for old versions may be purchased (at exorbitant rates) by contacting i@izs.me
#10 51.80 
#10 51.80 added 741 packages, and audited 742 packages in 52s
#10 51.80 
#10 51.80 218 packages are looking for funding
#10 51.80   run `npm fund` for details
#10 51.89 
#10 51.89 23 vulnerabilities (1 moderate, 22 high)
#10 51.89 
#10 51.89 To address issues that do not require attention, run:
#10 51.89   npm audit fix
#10 51.89 
#10 51.89 To address all issues (including breaking changes), run:
#10 51.89   npm audit fix --force
#10 51.89 
#10 51.89 Run `npm audit` for details.
#10 51.89 npm notice
#10 51.89 npm notice New major version of npm available! 10.8.2 -> 11.9.0
#10 51.89 npm notice Changelog: https://github.com/npm/cli/releases/tag/v11.9.0
#10 51.89 npm notice To update run: npm install -g npm@11.9.0
#10 51.89 npm notice
#10 DONE 52.2s

#11 [app builder 2/4] COPY --from=deps /app/node_modules ./node_modules
#11 DONE 5.6s

#12 [app builder 3/4] COPY . .
#12 DONE 0.2s

#13 [app builder 4/4] RUN npm run build
#13 0.313 
#13 0.313 > order-dashboard@0.1.0 build
#13 0.313 > mv .env.local .env.local.bak 2>/dev/null || true && NODE_ENV=production next build && mv .env.local.bak .env.local 2>/dev/null || true
#13 0.313 
#13 0.869 â–² Next.js 16.1.1 (Turbopack)
#13 0.870 
#13 0.872 
#13 0.872 > Build error occurred
#13 0.875 Error: Both middleware file "./middleware.ts" and proxy file "./proxy.ts" are detected. Please use "./proxy.ts" only. Learn more: https://nextjs.org/docs/messages/middleware-to-proxy
#13 0.875     at ignore-listed frames
#13 0.884 npm notice
#13 0.884 npm notice New major version of npm available! 10.8.2 -> 11.9.0
#13 0.884 npm notice Changelog: https://github.com/npm/cli/releases/tag/v11.9.0
#13 0.884 npm notice To update run: npm install -g npm@11.9.0
#13 0.884 npm notice
#13 DONE 0.9s

#14 [app runner 5/8] RUN mkdir .next
#14 CACHED

#15 [app runner 6/8] RUN chown nextjs:nodejs .next
#15 CACHED

#16 [app runner 4/8] COPY --from=builder /app/public ./public
#16 CACHED

#17 [app runner 7/8] COPY --from=builder --chown=nextjs:nodejs /app/.next/standalone ./
#17 ERROR: failed to calculate checksum of ref 5wpxkhpnqyy9vg2arh3q9x28p::mev2n8sjithl09bqqb6fvwl9q: "/app/.next/standalone": not found

#18 [app runner 8/8] COPY --from=builder --chown=nextjs:nodejs /app/.next/static ./.next/static
#18 ERROR: failed to calculate checksum of ref 5wpxkhpnqyy9vg2arh3q9x28p::mev2n8sjithl09bqqb6fvwl9q: "/app/.next/static": not found
------
 > [app runner 7/8] COPY --from=builder --chown=nextjs:nodejs /app/.next/standalone ./:
------
------
 > [app runner 8/8] COPY --from=builder --chown=nextjs:nodejs /app/.next/static ./.next/static:
------
failed to solve: failed to compute cache key: failed to calculate checksum of ref 5wpxkhpnqyy9vg2arh3q9x28p::mev2n8sjithl09bqqb6fvwl9q: "/app/.next/static": not found
